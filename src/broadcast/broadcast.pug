include ../part-header.pug
	.section.width-max-readable.m-auto
		h1 ðŸ“® Send broadcast
	.section.width-max-readable.m-auto.m-b-3
		#broadcast-audience.box.p-l-1.p-r-1.p-b-1.m-b-1
			h3 Who should get the broadcast?
			#lists-container
				p: strong Which list are you sending to?
				#lists-list No lists found
			#tags-container
				p: strong Enter the tags of subscribers who should receive this email.
				p
					span.m-r-0p5 Tags:
					span#tag-list.flex-inline-list.tag-list
						em.no-tags &lt;none&gt;
				#tags-input-container.grid.left-auto-right-max-content
					div
						input#new-tag-name.input.new-tag-name.w-100(placeholder='Enter a tag')
					button#add-tag-button.button.secondary.add-tag-button Add tag
			#exclude-tags-container
				p: strong Enter the tags of subscribers who should be excluded from this email.
				p
					span.m-r-0p5 Tags:
					span#exclude-tag-list.flex-inline-list.tag-list
						em.no-tags &lt;none&gt;
				#exclude-tags-input-container.grid.left-auto-right-max-content
					div
						input#new-exclude-tag-name.input.new-tag-name.w-100(placeholder='Enter a tag')
					button#add-exclude-tag-button.button.secondary.add-tag-button Add tag
			#subscriber-properties-filter-container
				p: strong Enter the values of subscriber properties to filter by
				p
					span.m-r-0p5 Subscriber properties:
					span#property-list.flex-inline-list.property-list
						em.no-properties &lt;none&gt;
				#add-property-box
					div
						input.property-name.input.w-100(placeholder="Property; e.g. city")
					div
						input.property-value.input.w-100(placeholder="Value; e.g. New York")
					button.button.secondary.add-property-button Add property
			#subscriber-interactions-container
				p: strong Filter by subscriber interactions with earlier emails
				p
					span Interactions:
					<span> </span>
					span#interactions-list
						em.no-interactions &lt;none&gt;
				#new-interaction-box
					p
						button#get-broadcast-history-button.button.secondary Refresh email history
					#interaction-definition-container
						div
							select#email-history-select.input.w-100
						p
							label Sent on date
								br
								select#interaction-email-date.input(type="date")
						div
							label
								input(type="radio" name="interaction-receive" value="did-receive")
								span Did receive
						div
							label
								input(type="radio" name="interaction-receive" value="did-not-receive")
								span Did not receive
						div
							#clear-receive-button-container(style="display:none")
								button#clear-receive-button.button.secondary Clear receive value
						div
							label
								input(type="radio" name="interaction-click" value="did-click")
								span Did click
						div
							label
								input(type="radio" name="interaction-click" value="did-not-click")
								span Did not click
						div
							label
								input(type="radio" name="interaction-open" value="did-open")
								span Did open
						div.m-b-0p5
							label
								input(type="radio" name="interaction-open" value="did-not-open")
								span Did not open

						button#reset-interaction.button.secondary.m-r-0p5 Reset interaction filter
						button#add-interaction-button.button.secondary Add interaction filter
		#subscriber-count-container.box.p-l-1.p-r-1.p-b-1.m-b-1
			h3 Estimate number of recipients
			p
				| Estimated subscriber count (can take a while to load; if interactions
				| are used, only the final result is accurate):
				<span> </span>
				span#subscriber-count 0
				<span> </span>
				i
					span#subscriber-count-status
			div
				button#count-subscribers-button.button.secondary Count Subscribers
		#broadcast-email-container.box.p-l-1.p-r-1.p-b-1.m-b-1
			h3 Which email should be sent?
			p This must be an email template you have already created.
			div
				input#template-name.input.w-100(placeholder="e.g. EmailName")
			#template-list
		#broadcast-time-container.box.p-l-1.p-r-1.p-b-1.m-b-1
			h3 When do you want the broadcast to start sending?
			p.
				Leave blank to send straight away. Uses your local timezone and converts
				to UTC time below. Will use current time if time set is in the past.
			div.date-time-control
				label Date
				input#start-send-at-date.input(placeholder="Date" type="date")
				label Time
				input#start-send-at-time.input(placeholder="Time" type="time")
			p
				span UTC Time:
				<span> </span>
				span#utc-time now
		#confirm-broadcast-container.box.p-l-1.p-r-1.p-b-1.m-b-1
			h3 Confirm and send broadcast
			#broadcast-validation-message
			#broadcast-confirmation-details
			#send-status-message(style='display:none')
			p
				button#send-broadcast-button.button.main Send broadcast
				button#cancel-send-button.button.secondary.m-r-1(style='display:none') Cancel
				button#confirm-send-broadcast-button.button.main(style='display:none') Confirm and send broadcast
		#broadcast-log
include ../part-footer.pug
